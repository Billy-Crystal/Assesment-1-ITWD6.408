<!DOCTYPE html>
<html>
    <!--HEAD SECTION-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>XML</title>

        <!--Embed Bootstrap Framework here-->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"
        ></script>
        <!--Embed css here-->
        <link rel="stylesheet" type="text/css" href="CSS/style.css" />
    </head>

    <!--BODY SECTION-->
    <body>
        <!--Create a Bootstrap Grid: 4 rows-->
        <div class="container">
            <!--Nav Bar Row-->
            <div class="row" style="min-height: 5vh">
                <nav
                    class="bg-primary"
                    style="
                        display: flex;
                        justify-content: space-between;
                        background-image: linear-gradient(#d5e6d2, #9bbd86);
                    "
                >
                    <div>
                        <img src="Images/global.png" />
                        <a class="navbar-brand"><b>ITWD6.408</b></a>
                    </div>
                    <ul style="margin: auto; width: 60%; text-align: center">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="forms.html">Forms</a></li>
                        <li><a href="xml.html" class="active">XML/JSON</a></li>
                        <li>
                            <a href="javascriptdemo.html">Javascript</a>
                        </li>
                        <li><a href="research.html">Research</a></li>
                    </ul>
                    <div class="menubuttonholder">
                        <div>
                            <span class="searchicon" id="openModalBtn">
                                üîçÔ∏é
                            </span>
                            <div id="searchModal" class="modal">
                                <div class="modal-content">
                                    <span class="close" id="closeModalBtn"
                                        >&times;</span
                                    >
                                    <input
                                        type="text"
                                        id="searchInput"
                                        placeholder="Search on Google"
                                    />
                                    <button id="searchButton">Search</button>
                                </div>
                            </div>
                        </div>
                        <div class="menubutton" onclick="openNav()">
                            &#9776;
                        </div>
                    </div>
                </nav>
            </div>
            <div id="myNav" class="overlay">
                <a
                    href="javascript:void(0)"
                    class="closebtn"
                    onclick="closeNav()"
                    >&times;</a
                >
                <div class="overlay-content">
                    <a href="index.html">Home</a>
                    <a href="forms.html">Forms</a>
                    <a href="xml.html" class="active">XML/JSON</a>
                    <a href="javascriptdemo.html">JavaScript</a>
                    <a href="research.html">Research</a>
                </div>
            </div>

            <!--Row 2 - Button and Form-->
            <div class="row">
                <!--Have 2 columns: One for 2 buttons, one for form-->
                <!--FIRST COLUMN-->
                <div class="col-12 col-md-3">
                    <!--BUTTONS-->
                    <div class="row">
                        <!--Button 1-->
                        <button
                            style="
                                color: #2b00f6;
                                border: solid 1px black;
                                font-family: 'Times New Roman';
                                font-size: large;
                            "
                            class="col-6 col-md-12 btn collapsed mt-1 mb-1"
                            data-bs-toggle="collapse"
                            data-bs-target="#multiCollapseExample1"
                            aria-expanded="false"
                            aria-controls="multiCollapseExample1"
                            id="button1"
                        >
                            XML RULES
                        </button>
                        <!--Button 2-->
                        <button
                            style="
                                color: #2b00f6;
                                border: solid 1px black;
                                font-family: 'Times New Roman';
                                font-size: large;
                            "
                            class="col-6 col-md-12 btn collapsed mt-1 mb-1"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#multiCollapseExample2"
                            aria-expanded="false"
                            aria-controls="multiCollapseExample2"
                            id="button2"
                        >
                            LOAD RSS
                        </button>
                    </div>
                </div>
                <!--Second Column-->
                <div class="col-12 col-md-9 z-1">
                    <div class="col-12">
                        <div
                            class="multi-collapse collapse"
                            id="multiCollapseExample1"
                        >
                            <div class="card card-body mb-1">
                                <!--XML rules area-->
                                <h2>XML SYNTAX RULES</h2>
                                <p>
                                    The syntax rules of XML are very simple and
                                    logical. The rules are easy to learn, and
                                    easy to use.
                                </p>
                                <!--Create a grid: row x columns-->
                                <div class="row card-deck">
                                    <div class="col-12 col-md-6">
                                        <div class="xmlrules">
                                            <br />
                                            <h3>RULE 1: The XML Prolog</h3>
                                            <br />
                                            <p>
                                                The XML prolog is optional. If
                                                it exists, it must come first in
                                                the document.
                                            </p>
                                            <p class="text-primary">
                                                Example: &#60;?xml version="1.0"
                                                encoding="UTF-8"?&#62;
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <div class="xmlrules">
                                            <br />
                                            <h3>
                                                RULE 2: XML Documents Must Have
                                                a Root Element
                                            </h3>
                                            <br />
                                            <p>
                                                XML documents must contain one
                                                root element that is the parent
                                                of all other elements:
                                            </p>
                                            <p class="text-primary">
                                                &#60;root&#62;<br />&nbsp;&nbsp;&#60;child&#62;<br />&nbsp;&nbsp;&nbsp;&nbsp;
                                                &#60;subchild&#62;.....&#60;/subchild&#62;<br />&nbsp;&nbsp;
                                                &#60;child&#62;<br />
                                                &#60;root?&#62;
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <div class="xmlrules">
                                            <br />
                                            <h3>
                                                RULE 3: All XML Elements Must
                                                Have a Closing Tag
                                            </h3>
                                            <br />
                                            <p>
                                                In XML, it is illegal to omit
                                                the closing tag. All elements
                                                must have a closing tag:
                                            </p>
                                            <p class="text-primary">
                                                Example: &#60;p&#62;This is a
                                                paragraph.&#60;/p&#62;
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <div class="xmlrules">
                                            <br />
                                            <h3>
                                                RULE 4: XML Tags are Case
                                                Sensitive
                                            </h3>
                                            <br />
                                            <p>
                                                XML tags are case sensitive. The
                                                tag &#60;Letter&#62; is
                                                different from the tag
                                                &#60;letter&#62;.
                                            </p>
                                            <p class="text-primary">
                                                Example: &#60;message&#62;This
                                                is correct&#60;/message>&#62;
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <div class="xmlrules">
                                            <br />
                                            <h3>
                                                RULE 5: XML Elements Must be
                                                Properly Nested
                                            </h3>
                                            <br />
                                            <p>
                                                In HTML, you might see
                                                improperly nested elements:
                                                &#60;b&#62;&#60;i&#62;<b
                                                    ><i
                                                        >This text is bold and
                                                        italic</i
                                                    ></b
                                                >&#60;/b&#62;&#60;/i&#62;<br />In
                                                XML, all elements must be
                                                properly nested within each
                                                other:
                                            </p>
                                            <p class="text-primary">
                                                Example:
                                                &#60;b&#62;&#60;i&#62;<b
                                                    ><i
                                                        >This text is bold and
                                                        italic</i
                                                    ></b
                                                >&#60;/i&#62;&#60;/b&#62;
                                            </p>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-6">
                                        <div class="xmlrules">
                                            <br />
                                            <h3>
                                                RULE 6: XML Attribute Values
                                                Must Always be Quoted
                                            </h3>
                                            <br />
                                            <p>
                                                XML elements can have attributes
                                                in name/value pairs just like in
                                                HTML.<br />In XML, the attribute
                                                values must always be quoted:
                                            </p>
                                            <p class="text-primary">
                                                Example:<br />
                                                &#60;note date="12/11/2007"&#62;
                                                <br />&nbsp;&nbsp;
                                                &#60;to&#62;Tove &#60;/to&#62;
                                                <br />&nbsp;&nbsp; &#60;from
                                                &#62;Jani &#60;/from&#62;
                                                <br />&#60;/note&#62;
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-12">
                        <div
                            class="multi-collapse collapse"
                            id="multiCollapseExample2"
                        >
                            <div class="card card-body mb-1">
                                <!--RSS RULES-->
                                <h2>LOAD RSS FROM NASA WEBSITE</h2>
                                <button type="button" onclick="loadRSS()">
                                    Load RSS
                                </button>
                                <section id="rssFeed" class="row"></section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Row 3 - Footer-->
            <div
                class="row"
                style="background-image: linear-gradient(#d5e6d2, #9bbd86)"
            >
                <!--Col 1: Social media icon-->
                <div class="col-12 col-sm-12 col-md-4">
                    <img
                        src="Images/linkedin-48.png"
                        style="height: auto; width: 36px"
                        alt="Linkedin"
                    />
                    <img
                        src="Images/youtube-48.png"
                        style="height: auto; width: 36px"
                    />
                    <img
                        src="Images/twitter-48.png"
                        style="height: auto; width: 36px"
                        alt="Twitter"
                    />
                    <img
                        src="Images/facebook-48.png"
                        style="height: auto; width: 36px"
                        alt="Facebook"
                    />
                    <img
                        src="Images/instagram-48.png"
                        style="height: auto; width: 36px"
                        alt="Instagram"
                    />
                </div>
                <!--Col 2: Copyright-->
                <div class="col-8 col-sm-8 col-md-4 text-center">
                    <p><b>@2023 Created by Liam Palmers</b></p>
                </div>
                <!--Col 3: Privacy Policy-->
                <div class="col-4 col-sm-4 col-md-4 text-end">
                    <a href="research.html"><b>Privacy Policy</b></a>
                </div>
            </div>
        </div>

        <script>
            function loadRSS() {
                //Use CORS API website as proxy
                let proxy = "https://cors-anywhere.herokuapp.com/";

                //Declare the URL where we fetch RSS file
                let url = "https://www.nasa.gov/rss/dyn/educationnews.rss";
                //NASA RSS: https://www.nasa.gov/content/nasa-rss-feeds
                //     NASA education news: https://www.nasa.gov/rss/dyn/educationnews.rss
                //CNN RSS: https://edition.cnn.com/services/rss/
                //    CNN RSS top stories: http://rss.cnn.com/rss/edition.rss
                //BBC RSS: http://feeds.bbci.co.uk/news/rss.xml

                //Create an XMLHttpRequest Object to request XML file (data) through HTTP protocol
                let xhttp = new XMLHttpRequest();
                xhttp.open("GET", proxy + url, true);
                xhttp.send();

                //Process RSS file when it has been loaded successfully
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        //Load XML file as "XML" format and parse/process it by calling function parseRSS()
                        let rss = this.responseXML;
                        parseRSS(rss);
                    }
                };
            }

            function parseRSS(rss) {
                //Load all "items" inside the RSS document, each item is a news
                let items = rss.getElementsByTagName("item");
                let rssContent = ""; //varible "rssContent" is used to store rss content in HTML format

                //Loop through all "items" (news) and extract child node content: "title", "link", "description" and "pubdate"
                for (let i = 0; i < items.length; i++) {
                    let nodes = items[i].children;
                    //Extract "title", "link", "description" and "pubdate" of each "node"
                    let title, pubdate, description, link;
                    for (let j = 0; j < nodes.length; j++) {
                        if (nodes[j].tagName == "title") {
                            title = nodes[j].childNodes[0].nodeValue;
                        } else if (nodes[j].tagName == "link") {
                            link = nodes[j].childNodes[0].nodeValue;
                        } else if (nodes[j].tagName == "description") {
                            description = nodes[j].childNodes[0].nodeValue;
                        } else if (nodes[j].tagName == "pubDate") {
                            pubdate = nodes[j].childNodes[0].nodeValue;
                        }
                    }

                    //Format the extracted information above in HTML format and append it to the "rssContent" variable
                    //each item (news) is wrapped inside a <div>
                    rssContent += `<div  class="col-12 col-md-6">
															<div style="background-color: gray; margin: 1.0em; height: 95%">
																<h3>${title}</h3>
																<p style="font-style: italic;">${pubdate}</p>
																<p>${description}</p>
																<p><a href="${link}">Read more</a></p>
															</div>
														</div>`;
                }

                //Display the "rssContent" on the webpage
                document.getElementById("rssFeed").innerHTML = rssContent;
            }
        </script>
        <!--JQuery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            $(document).ready(function () {
                // Show the first form on page load
                $("#multiCollapseExample1").addClass("show");
                $("#button1").addClass("selected");

                // Add event listeners to the buttons
                $("#button1").on("click", function () {
                    if (!$(this).hasClass("selected")) {
                        hideAllScreens(); // Hide all screens
                        $("#multiCollapseExample1").addClass("show"); // Show Form 1
                        $(this).addClass("selected"); // Add 'selected' class to the clicked button
                        $("#button2").removeClass("selected"); // Remove 'selected' class from other buttons
                    }
                });

                $("#button2").on("click", function () {
                    if (!$(this).hasClass("selected")) {
                        hideAllScreens(); // Hide all screens
                        $("#multiCollapseExample2").addClass("show"); // Show Form 2
                        $(this).addClass("selected"); // Add 'selected' class to the clicked button
                        $("#button1").removeClass("selected"); // Remove 'selected' class from other buttons
                    }
                });

                // Function to hide all screens
                function hideAllScreens() {
                    $(".multi-collapse").removeClass("show");
                }
            });
        </script>
        <!--Embed the Javascript file here-->
        <script src="JS/javascript-xml.js"></script>
    </body>
</html>
